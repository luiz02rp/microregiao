<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Distribuição dos psicólogos nos níveis assistenciais na 11º região de saúde do Ceará</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="escrita_files/libs/clipboard/clipboard.min.js"></script>
<script src="escrita_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="escrita_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="escrita_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="escrita_files/libs/quarto-html/popper.min.js"></script>
<script src="escrita_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="escrita_files/libs/quarto-html/anchor.min.js"></script>
<link href="escrita_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="escrita_files/libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="escrita_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="escrita_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="escrita_files/libs/bootstrap/bootstrap-9e3ffae467580fdb927a41352e75a2e0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="escrita_files/libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">

<script src="escrita_files/libs/tabwid-1.1.3/tabwid.js"></script>


  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Distribuição dos psicólogos nos níveis assistenciais na 11º região de saúde do Ceará</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  nivel_atencao          n
  &lt;chr&gt;              &lt;int&gt;
1 atenção primária      96
2 atenção secundária    63
3 atenção terciária     12</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 × 2
   nome_do_municipio     n
   &lt;chr&gt;             &lt;int&gt;
 1 Alcântaras            2
 2 Cariré                5
 3 Catunda               2
 4 Coreaú                2
 5 Forquilha             4
 6 Frecheirinha          7
 7 Graça                 5
 8 Groaíras              6
 9 Hidrolândia           4
10 Ipu                   8
# ℹ 14 more rows</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  nivel_atencao          n
  &lt;chr&gt;              &lt;int&gt;
1 atenção primária      32
2 atenção secundária    11
3 atenção terciária      1</code></pre>
</div>
</div>
<section id="método" class="level1">
<h1>Método</h1>
<section id="coleta-e-processamento-de-dados" class="level2">
<h2 class="anchored" data-anchor-id="coleta-e-processamento-de-dados">Coleta e processamento de dados</h2>
<p>A coleta foi referente ao mês de julho de 2025. Os dados foram extraídos da plataforma do Cadastro Nacional de Estabelecimentos de Saúde (CNES) (Ministério da Saúde, 2025). As informações sobre a população residente nos municípios foram retiradas das estimativas realizadas pelo Instituto Brasileiro de Geografia e Estatística (IBGE) (Instituto Brasileiro de Geografia e Estatística [IBGE], 2025).</p>
<p>O processamento dos dados foi realizado com a linguagem R (versão 4.4.3) através do RStudio (versão 2025.05.1). Para a preparação do banco de dados final, realizou-se incialmente a junção das tabelas com informação sobre vínculos, profissionais e estabelecimentos de saúde. Por fim, agregou-se a elas o banco de dados do IBGE com a população do munícipio por meio do seu respectivo código definido pelo referido instituto. Aplicaram-se filtros para selecionar apenas profissionais de psicologia com base na Classificação Brasileira de Ocupações (CBO) e que atendiam no SUS.</p>
<p>Os estabelecimentos de saúde foram categorizados em atenção primária, secundária e terciária, sistemas de apoio e sistemas logísticos de acordo com as diretrizes do ministério da saúde (2017). A classificação quanto à atuação de dado psicólogo seguiu a categorização relativa ao estabelecimento. Assim, se ele trabalhar em um dispositivo pertencente à atenção primária, entende-se que o respectivo profissional atua na APS. Ressalta-se que alguns profissionais poderiam estar repetidos no banco de dados, tendo em vista a possibilidade de ele operar em mais de um nível, razão pela qual se procurou medir também o quantitativo desses casos.</p>
<p>Adicionalmente, utilizou-se o pacote genderBR para a inferência de gênero dos profissionais a partir dos nomes registrados. Para a manipulação e tratamento dos dados, empregaram-se os pacotes tidyverse, arrow e janitor. O código completo e a estrutura de dados detalhada estão disponíveis no repositório do projeto [Link do GitHub].</p>
<p>Para delimitação do escopo de análise, foi aplicado um recorte territorial focado nos 24 municípios que compõem a 11º região de saúde do Ceará. Também foram filtrados apenas os estabelecimentos classificados nos níveis de atenção primária, secundária e terciária, excluindo os sistemas logísticos e de apoios por não prestarem atendimento assistencial direto em psicologia.</p>
<p>A fim de analisar a distribuição de psicólogos na referida região, foi adicionada uma coluna que divide a população de cada município pelo número de profissionais cadastrados. Essa variável foi nomeada como “pop_vinculo”, com a intenção de ser um índice de cobertura assistencial indireto. Esse indicador, apesar de não corresponder diretamente à carga de trabalho real do profissional, permite estimar a razão entre a população potencialmente assistida e profissionais disponíveis.</p>
<p>Assim, o banco de dados final permitiu visualizar o total de vínculos por nível de atenção para cada município, bem como a sua cobertura assistencial nos três níveis.</p>
</section>
<section id="amostra" class="level2">
<h2 class="anchored" data-anchor-id="amostra">Amostra</h2>
<section id="dados-sociodemográficos-a-fazer" class="level3">
<h3 class="anchored" data-anchor-id="dados-sociodemográficos-a-fazer">Dados sociodemográficos (a fazer)</h3>
<p>A 11º região de saúde do Ceará totaliza 658.665 mil em termos populacionais o que representa 7,133% da população do Ceará (9.233.656 milhões), mas 39,2% da população da macrorregião norte (1.679.525 milhões) (IBGE, 2025). Trata-se, portanto, de quase 40% da população total da macrorregião de saúde. Há um total de 466 equipamentos registrados. Os estabelecimentos de gestão ou apoio técnico e/ou legal foram ignorados. A distribuição entre os níveis de atenção se dá da seguinte maneira:</p>
<p>Quanto à distribuição por município, observa-se uma predominância em Sobral, que concentra 79 deles. Tal número representa 16,31% do total. Quando comparado com Ipu (29 dispositivos), há uma diferença expressiva de 50. Entretanto, não se vê uma discrepância desse nível entre Ipu e Santa Quitéria, que é a terceira cidade com maior quantidade desses estabelecimentos (24). Juntas, essas duas cidades representam 11,37% dos estabelecimentos (CNES, 2025).</p>
</section>
<section id="psicólogos-e-níveis-assistenciais-a-fazer" class="level3">
<h3 class="anchored" data-anchor-id="psicólogos-e-níveis-assistenciais-a-fazer">Psicólogos e níveis assistenciais (a fazer)</h3>
<p>Quanto ao total de psicólogos, foram contabilizados 154 cadastrados nos estabelecimentos da microrregião de saúde de Sobral. Destes, 71 (46,10%) atuam na atenção primária, 72 (46,75%) na secundária e 11 (7,14%) na terciária. Logo, foram encontrados psicólogos atuando em todos os níveis de atenção. O único município com atenção terciária e, consequentemente, psicólogos nesse nível, foi Sobral. Dentre os 24 municípios, encontrou-se que 10 (41,6%) têm concentração de psicólogos na atenção primária; 9 (37,5%) apresentam predominância na atenção secundária; 4 (16,6%) não possuem diferença entre os dois níveis (desconsidera-se a atenção terciária, que não era presente nesses municípios); e 1 (4,16%) não possui nenhum psicólogo.</p>
</section>
</section>
<section id="procedimento-de-análise-de-dados" class="level2">
<h2 class="anchored" data-anchor-id="procedimento-de-análise-de-dados">Procedimento de análise de dados</h2>
<p>As análises também foram realizadas utilizando o software R (R Core Team, 2025). Foi usado o pacote tidyverse para importação, manipulação e visualização de dados; o rstatix para verificar os pressupostos de normalidade (teste de Shapiro-Wilk) e homogeneidade de variância (teste de Levene), o tamanho de efeito e a correlação bivariada; o MKinfer para cumputar o teste t de Student com bootstrapping; ggpubr e o scales para aprimorar os gráficos das correlações.</p>
<p>O teste t de Student para amostras independentes objetivou investigar em que medida a cobertura de psicólogos era diferente entre os níveis primário e secundário. Foram realizados procedimentos de bootstrapping (1000 re-amostragens; 95% IC) para se obter uma maior confiabilidade dos resultados, para corrigir desvios de normalidade da distribuição da amostra, diferenças entre os tamanhos dos grupos e para apresentar um intervalo de confiança de 95% para as diferenças entre as médias (Haukoos &amp; Lewis, 2005).</p>
<p>Os teste de correlação avaliou em que medida o contingente populacional de dado município estava associado com o total de vínculos de psicólogos. Tal análise foi feita para os níveis primário e secundário agrupados e para a atenção primária e secundária separadamente, a fim de verificar se a associação existia e se tal padrão se mantém nesses níveis isoladamente. Optou-se por excluir a atenção terciária, na medida em que havia vínculos de psicólogos em apenas dois municípios (Sobral e Reriutaba). Para contornar a discordância com o pressuposto de normalidade, baixo tamanho amostral e a presença de um outileir (Sobral), decidiu-se utilizar o tau de Kendall por apresentar menor viés que o rho de Spearman e o coeficiente de Pearson nessas circuntâncias (Xu et al., 2013).</p>
</section>
<section id="considerações-éticas" class="level2">
<h2 class="anchored" data-anchor-id="considerações-éticas">Considerações éticas</h2>
<p>Uma vez que os dados utilizados são de acesso público, a submissão ao comitê de ética não se fez necessária, o que está em conformidade com a Resolução nº 510, de 7 de abril de 2016 do Conselho Nacional de Saúde.</p>
</section>
</section>
<section id="resultados" class="level1">
<h1>Resultados</h1>
<p>Os resultados indicaram desvio de normalidade para a cobertura de psicólogos (vínculos por habitantes) apenas na atenção secundária (<em>W</em> = 0,78; <em>p</em>&lt; 0,001). Além disso, observou-se a existência de psicólogos atuando na atenção primária em todos os 24 municípios, mas apenas 18 cidades contavam com a presença de tais profissionais no nível secundário (ver tabela 1). Embora exista essa diferença, a relação entre habitantes por vínculo de psicólogos não apresentou diferença significativa (<em>t</em>(25,37) = -1,44, <em>p</em> = 0,09) [IC 95% -8966,91, 636,87], com tamanho de efeito pequeno (d de Cohen = 0,48).</p>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-49b1a802{}.cl-49a436b8{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-49aa42f6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-49aa430a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-49aa7622{width:1.619in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-49aa762c{width:1.436in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-49aa7636{width:0.965in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-49aa764a{width:1.296in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-49aa7654{width:1.619in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-49aa765e{width:1.436in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-49aa7668{width:0.965in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-49aa7672{width:1.296in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-49aa767c{width:1.619in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-49aa767d{width:1.436in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-49aa7686{width:0.965in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-49aa7690{width:1.296in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-49b1a802"><thead><tr style="overflow-wrap:break-word;"><th class="cl-49aa7622"><p class="cl-49aa42f6"><span class="cl-49a436b8">Nível assistencial</span></p></th><th class="cl-49aa762c"><p class="cl-49aa430a"><span class="cl-49a436b8">Nº de municípios</span></p></th><th class="cl-49aa7636"><p class="cl-49aa430a"><span class="cl-49a436b8">Média</span></p></th><th class="cl-49aa764a"><p class="cl-49aa430a"><span class="cl-49a436b8">Desvio-Padrão</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-49aa7654"><p class="cl-49aa42f6"><span class="cl-49a436b8">atenção primária</span></p></td><td class="cl-49aa765e"><p class="cl-49aa430a"><span class="cl-49a436b8">24</span></p></td><td class="cl-49aa7668"><p class="cl-49aa430a"><span class="cl-49a436b8">8.712,69</span></p></td><td class="cl-49aa7672"><p class="cl-49aa430a"><span class="cl-49a436b8">5.764,46</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-49aa767c"><p class="cl-49aa42f6"><span class="cl-49a436b8">atenção secundária</span></p></td><td class="cl-49aa767d"><p class="cl-49aa430a"><span class="cl-49a436b8">18</span></p></td><td class="cl-49aa7686"><p class="cl-49aa430a"><span class="cl-49a436b8">12.519,86</span></p></td><td class="cl-49aa7690"><p class="cl-49aa430a"><span class="cl-49a436b8">9.993,39</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Também houve ausência de normalidade para as variáveis população municipal e total de vínculos de psicólogos tanto quando se agrupou atenção primária e secundária, quanto na situação em que foram analiadas isoladamente. Além disso, o teste de correlação tau de Kendall mostrou que existe associação significativa, positiva e moderada entre o tamanho populacional e o número de vínculos de psicólogos (<span class="math inline">\(\tau\)</span> = 0,44; p &lt; 0,01) quando se observa a rede de modo agregado. Entretanto, esse relação não se sustenta quando os níveis de assistenciais são analisados do modo separado. A atenção primária apresentou uma correlação fraca e não significativa (<span class="math inline">\(\tau\)</span> = 0,21; p &lt; 0,21), assim como a secundária (<span class="math inline">\(\tau\)</span> = 0,25; p &lt; 0,18) (ver figura 1).</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="escrita_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="referências" class="level1">
<h1>Referências</h1>
<p>Conselho Nacional de Saúde. (2016). Resolução nº 510, de 7 de abril de 2016. Dispõe sobre as normas aplicáveis a pesquisas em Ciências Humanas e Sociais. http://conselho.saude.gov.br/resolucoes/2016/Reso510.pdf</p>
<p>Instituto Brasileiro de Geografia e Estatística. (2025). Estimativas de população. https://www.ibge.gov.br/estatisticas/sociais/populacao/9103-estimativas-de-populacao.html</p>
<p>Ministério da Saúde. (2025). Cadastro Nacional de Estabelecimentos de Saúde (CNES): Bases de dados. Recuperado em [insira o dia e mês da coleta], 2025, de https://cnes.datasus.gov.br/pages/downloads/arquivosBaseDados.jsp</p>
<p>Ministério da Saúde. (2017, 28 de setembro). Portaria de consolidação nº 3, de 28 de setembro de 2017. Consolidação das normas sobre as redes do Sistema Único de Saúde. Biblioteca Virtual em Saúde do Ministério da Saúde. https://bvsms.saude.gov.br/bvs/saudelegis/gm/2017/prt0003_28_09_2017.html</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>